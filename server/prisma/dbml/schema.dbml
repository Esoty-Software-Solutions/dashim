//// ------------------------------------------------------
//// THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
//// ------------------------------------------------------

Table Gender {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  arabic String
  english String
  name String [unique, not null]
  user User [not null]
  beneficiary Beneficiary [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table Currency {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  arabic String
  english String
  name String [unique, not null]
  code String [unique, not null]
  symbol String [not null]
  BuyexchangeRate Float [not null, default: 1]
  SellExchangeRate Float [not null, default: 1]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table City {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  arabic String
  english String
  name String [unique, not null]
  country Country [not null]
  countryId String [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table Country {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  arabic String
  english String
  name String [unique, not null]
  code String [unique, not null]
  cities City [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table User {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  firstName String [not null]
  secondName String
  thirdName String
  fourthName String
  lastName String [not null]
  searchName String [not null]
  birthDate DateTime [not null]
  gender Gender
  genderId String
  nationality String
  nationalID String [unique]
  residence String
  address String
  username String [unique, not null]
  email String [unique, not null, note: '@email']
  isEmailVerificationActive Boolean [not null, default: false]
  phone String
  isPhoneVerified Boolean [not null, default: false]
  passwordHash String [not null, note: '@omit']
  deviceToken DeviceToken [not null]
  avatar String
  ownerOf Tenant [not null]
  memberOf TenantMembers [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table TenantMembers {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  tenant Tenant [not null]
  tenantId String [not null]
  member User [not null]
  memberId String [not null]

  indexes {
    (memberId, id) [unique]
  }

  Note: '@@allow(\'all\', true && isPublished)'
}

Table Tenant {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  name String [not null]
  type TenantType [not null]
  typeId String [not null]
  description String
  logo String
  website String
  phone String
  email String
  address String
  city String
  country String
  assignedToMedicalCenter MedicalCenter
  owner User [not null]
  ownerId String [not null]
  members TenantMembers [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table DeviceToken {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  name String [not null]
  deviceType DeviceType [not null]
  deviceTypeId String [not null]
  user User [not null]
  userId String [not null]

  indexes {
    (userId, name) [unique]
  }

  Note: '@@allow(\'all\', true && isPublished)'
}

Table TenantType {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  arabic String
  english String
  name String [unique, not null]
  tenant Tenant [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table Role {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  arabic String
  english String
  name String [unique, not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table DeviceType {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  arabic String
  english String
  name String [unique, not null]
  deviceToken DeviceToken [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table Institution {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  name String [not null]
  code String [unique, not null]
  legacyCode String
  description String
  cityHQ String
  address String
  phoneArray String[] [unique, not null]
  emailArray String[] [unique, not null]
  website String [not null, note: '@url']
  facebookLink String [not null, note: '@url']
  googleMapsLink String [not null, note: '@url']
  twitterLink String [not null, note: '@url']
  instagramLink String [not null, note: '@url']
  latitude Float
  longitude Float
  policies InsurancePolicy [not null]
  members Subscriber [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table Subscriber {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  institution Institution [not null]
  institutionId String [not null]
  insurancePolicy InsurancePolicy [not null]
  insurancePolicyId String [not null]
  beneficiary Beneficiary [not null]

  indexes {
    (institutionId, id) [unique]
  }

  Note: '@@allow(\'all\', true && isPublished)'
}

Table Beneficiary {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  firstName String [not null]
  secondName String
  thirdName String
  fourthName String
  lastName String [not null]
  searchName String [not null]
  birthDate DateTime [not null]
  gender Gender
  genderId String
  nationality String
  nationalID String [unique]
  residence String
  address String
  isActive Boolean [not null, default: true]
  deactivationReason String
  subscriber Subscriber [not null]
  subscriberId String [not null]
  legacyCode String
  relationship Relationship [not null]
  relationshipId String [not null]
  isFingerprintVerificationActive Boolean [not null, default: false]
  isIdCardVerificationActive Boolean [not null, default: false]
  isFaceVerificationActive Boolean [not null, default: false]
  isVoiceVerificationActive Boolean [not null, default: false]
  fingerprint FingerprintBiometric [not null]
  idCard IDCard [not null]
  face FaceBiometric [not null]
  voice VoiceBiometric [not null]
  entryRecords EntryRecord [not null]
  spents BeneficiaryBalance [not null]

  indexes {
    (subscriberId, id) [unique]
  }

  Note: '@@allow(\'all\', true && isPublished)'
}

Table Relationship {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  arabic String
  english String
  name String [unique, not null]
  beneficiary Beneficiary [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table FingerprintBiometric {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  fingerType FingerType [not null]
  fingerTypeId String [not null]
  hash String [unique, not null]
  beneficiary Beneficiary [not null]
  beneficiaryId String [not null]
  entryRecords EntryRecord [not null]

  indexes {
    (beneficiaryId, id) [unique]
    (id, fingerTypeId) [unique]
  }

  Note: '@@allow(\'all\', true && isPublished)'
}

Table IDCard {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  hash String [unique, not null]
  beneficiary Beneficiary [not null]
  beneficiaryId String [not null]
  entryRecords EntryRecord [not null]

  indexes {
    (beneficiaryId, id) [unique]
  }

  Note: '@@allow(\'all\', true && isPublished)'
}

Table FaceBiometric {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  hash String [unique, not null]
  beneficiary Beneficiary [not null]
  beneficiaryId String [not null]
  entryRecords EntryRecord [not null]

  indexes {
    (beneficiaryId, id) [unique]
  }

  Note: '@@allow(\'all\', true && isPublished)'
}

Table VoiceBiometric {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  hash String [unique, not null]
  beneficiary Beneficiary [not null]
  beneficiaryId String [not null]
  entryRecords EntryRecord [not null]

  indexes {
    (beneficiaryId, id) [unique]
  }

  Note: '@@allow(\'all\', true && isPublished)'
}

Table FingerType {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  arabic String
  english String
  name String [unique, not null]
  fingerType FingerprintBiometric [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table InsurancePolicy {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  name String [unique, not null]
  limit Int [not null]
  institution Institution [not null]
  institutionId String [not null]
  subscribers Subscriber [not null]
  serviceEntryTimeWindow Int [not null, default: 24]
  packageMedicalServices PackageMedicalServices [not null]
  medicalCenters InsurancePolicyMedicalCenter [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table BenefitPackage {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  name String [unique, not null]
  copayDistrubtion Int[] [not null]
  threashold Int[] [not null]
  medicalServices PackageMedicalServices [not null]
  spents BeneficiaryBalance [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table PackageMedicalServices {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  beneftiPackage BenefitPackage [not null]
  beneftiPackageId String [not null]
  medicalService MedicalCenter [not null]
  medicalServiceId String [not null]
  insurancePolicy InsurancePolicy [not null]
  insurancePolicyId String [not null]
  price Int [not null]
  patientServices PatientService [not null]

  indexes {
    (insurancePolicyId, beneftiPackageId, medicalServiceId) [unique]
  }

  Note: '@@allow(\'all\', true && isPublished)'
}

Table InsurancePolicyMedicalCenter {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  insurancePolicyId String [not null]
  insurancePolicy InsurancePolicy [not null]
  medicalCenterId String [not null]
  medicalCenter MedicalCenter [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table EntryRecord {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  beneficiary Beneficiary [not null]
  beneficiaryId String [not null]
  fingerprintBiometric FingerprintBiometric
  fingerprintId String
  idCardBiometric IDCard
  idCardId String
  faceBiometric FaceBiometric
  faceId String
  voiceBiometric VoiceBiometric
  voiceId String
  isValidated Boolean [not null]
  isManuallyInserted Boolean [not null, default: false]
  patientServices PatientService [not null]
  medicalCenterId String [not null]
  medicalCenter MedicalCenter [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table PatientService {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  entryRecord EntryRecord [not null]
  entryRecordId String [not null]
  name String [not null]
  Note String
  isWorkInjury Boolean [not null, default: false]
  isExamination Boolean [not null, default: false]
  billedAmmount Int [not null]
  allowedAmmount Int [not null]
  copayAmmount Int [not null]
  cashAmount Int [not null]
  coveredAmount Int [not null]
  defferedAmount Int [not null]
  coinsuranceAmount Int [not null]
  transactionReviewStatus ReviewStatus [not null]
  transactionReviewStatusId String [not null]
  medicalReviewStatus ReviewStatus [not null]
  medicalReviewStatusId String [not null]
  service PackageMedicalServices [not null]
  serviceId String [not null]
  groupCode String [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table ReviewStatus {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  arabic String
  english String
  name String [unique, not null]
  transactionPatientServices PatientService [not null]
  medicalPatientServices PatientService [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table BeneficiaryBalance {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  beneficiary Beneficiary [not null]
  beneficiaryId String [not null]
  beneftiPackage BenefitPackage [not null]
  beneftiPackageId String [not null]
  balance Float [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table DiagnosisAttachment {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  name String [not null]
  link String [not null]
  size Int [not null]
  contentType String [not null]
  metadata Json [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table LabReportAttachment {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table PrescriptionAttachment {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table MedicalCenter {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  name String [not null]
  code String [not null]
  description String [not null]
  cityHQ String [not null]
  address String
  phone String[] [unique, not null]
  email String[] [unique, not null]
  website String [not null, note: '@url']
  facebookLink String [not null, note: '@url']
  googleMapsLink String [not null, note: '@url']
  twitterLink String [not null, note: '@url']
  instagramLink String [not null, note: '@url']
  latitude Float
  longitude Float
  managingTenant Tenant [not null]
  managingTenantId String [unique, not null]
  services MedicalCenterService [not null]
  beneftiPackages PackageMedicalServices [not null]
  insurancePolicy InsurancePolicyMedicalCenter [not null]
  entryRecords EntryRecord [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table MedicalCenterServiceTemplate {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  name String [not null]
  dalilCode String [not null]
  basePrice String [not null]
  services MedicalCenterService [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table MedicalCenterService {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  name String [not null]
  medicalCenterCode String [not null]
  basePrice String [not null]
  medicalCenter MedicalCenter [not null]
  medicalCenterId String [unique, not null]
  template MedicalCenterServiceTemplate [not null]
  templateId String [not null]

  indexes {
    (medicalCenterId, medicalCenterCode) [unique]
    (templateId, medicalCenterId, medicalCenterCode) [unique]
  }

  Note: '@@allow(\'all\', true && isPublished)'
}

Ref: City.countryId > Country.id

Ref: User.genderId > Gender.id

Ref: TenantMembers.tenantId > Tenant.id

Ref: TenantMembers.memberId > User.id

Ref: Tenant.typeId > TenantType.id

Ref: Tenant.ownerId > User.id

Ref: DeviceToken.deviceTypeId > DeviceType.id

Ref: DeviceToken.userId > User.id

Ref: Subscriber.institutionId > Institution.id

Ref: Subscriber.insurancePolicyId > InsurancePolicy.id

Ref: Beneficiary.genderId > Gender.id

Ref: Beneficiary.subscriberId > Subscriber.id

Ref: Beneficiary.relationshipId > Relationship.id

Ref: FingerprintBiometric.fingerTypeId > FingerType.id

Ref: FingerprintBiometric.beneficiaryId > Beneficiary.id

Ref: IDCard.beneficiaryId > Beneficiary.id

Ref: FaceBiometric.beneficiaryId > Beneficiary.id

Ref: VoiceBiometric.beneficiaryId > Beneficiary.id

Ref: InsurancePolicy.institutionId > Institution.id

Ref: PackageMedicalServices.beneftiPackageId > BenefitPackage.id

Ref: PackageMedicalServices.medicalServiceId > MedicalCenter.id

Ref: PackageMedicalServices.insurancePolicyId > InsurancePolicy.id

Ref: InsurancePolicyMedicalCenter.insurancePolicyId > InsurancePolicy.id

Ref: InsurancePolicyMedicalCenter.medicalCenterId > MedicalCenter.id

Ref: EntryRecord.beneficiaryId > Beneficiary.id

Ref: EntryRecord.fingerprintId > FingerprintBiometric.id

Ref: EntryRecord.idCardId > IDCard.id

Ref: EntryRecord.faceId > FaceBiometric.id

Ref: EntryRecord.voiceId > VoiceBiometric.id

Ref: EntryRecord.medicalCenterId > MedicalCenter.id

Ref: PatientService.entryRecordId > EntryRecord.id

Ref: PatientService.transactionReviewStatusId > ReviewStatus.id

Ref: PatientService.medicalReviewStatusId > ReviewStatus.id

Ref: PatientService.serviceId > PackageMedicalServices.id

Ref: BeneficiaryBalance.beneficiaryId > Beneficiary.id

Ref: BeneficiaryBalance.beneftiPackageId > BenefitPackage.id

Ref: MedicalCenter.managingTenantId - Tenant.id

Ref: MedicalCenterService.medicalCenterId > MedicalCenter.id

Ref: MedicalCenterService.templateId > MedicalCenterServiceTemplate.id