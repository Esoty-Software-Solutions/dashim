//// ------------------------------------------------------
//// THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
//// ------------------------------------------------------

Table Gender {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  arabic String
  english String
  name String [unique, not null]
  user User [not null]
  subscriberGroup SubscriberGroup [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table User {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  firstName String [not null]
  secondName String
  thirdName String
  fourthName String
  lastName String [not null]
  searchName String [not null]
  birthDate DateTime [not null]
  gender Gender
  genderId String
  nationality String
  nationalID String [unique]
  residence String
  address String
  username String [unique, not null]
  email String [unique, not null, note: '@email']
  isEmailVerificationActive Boolean [not null, default: false]
  phone String
  isPhoneVerified Boolean [not null, default: false]
  passwordHash String [not null, note: '@omit']
  deviceToken DeviceToken [not null]
  avatar String
  ownerOf Tenant [not null]
  memberOf TenantMembers [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table TenantMembers {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  tenant Tenant [not null]
  tenantId String [not null]
  member User [not null]
  memberId String [not null]

  indexes {
    (memberId, id) [unique]
  }

  Note: '@@allow(\'all\', true && isPublished)'
}

Table Tenant {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  name String [not null]
  type TenantType [not null]
  typeId String [not null]
  description String
  logo String
  website String
  phone String
  email String
  address String
  city String
  country String
  assignedToMedicalCenter MedicalCenter
  owner User [not null]
  ownerId String [not null]
  members TenantMembers [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table DeviceToken {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  name String [not null]
  deviceType DeviceType [not null]
  deviceTypeId String [not null]
  user User [not null]
  userId String [not null]

  indexes {
    (userId, name) [unique]
  }

  Note: '@@allow(\'all\', true && isPublished)'
}

Table TenantType {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  arabic String
  english String
  name String [unique, not null]
  tenant Tenant [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table Role {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  arabic String
  english String
  name String [unique, not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table DeviceType {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  arabic String
  english String
  name String [unique, not null]
  deviceToken DeviceToken [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table Institution {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  name String [not null]
  code String [unique, not null]
  legacyCode String
  description String
  cityHQ String
  address String
  phoneArray String[] [unique, not null]
  emailArray String[] [unique, not null]
  website String [not null, note: '@url']
  facebookLink String [not null, note: '@url']
  googleMapsLink String [not null, note: '@url']
  twitterLink String [not null, note: '@url']
  instagramLink String [not null, note: '@url']
  latitude Float
  longitude Float
  policies InsurancePolicy [not null]
  members Subscriber [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table Subscriber {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  institution Institution [not null]
  institutionId String [not null]
  insurancePolicy InsurancePolicy [not null]
  insurancePolicyId String [not null]
  subscriberGroup SubscriberGroup [not null]

  indexes {
    (institutionId, id) [unique]
  }

  Note: '@@allow(\'all\', true && isPublished)'
}

Table SubscriberGroup {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  firstName String [not null]
  secondName String
  thirdName String
  fourthName String
  lastName String [not null]
  searchName String [not null]
  birthDate DateTime [not null]
  gender Gender
  genderId String
  nationality String
  nationalID String [unique]
  residence String
  address String
  isActive Boolean [not null, default: true]
  deactivationReason String
  subscriber Subscriber [not null]
  subscriberId String [not null]
  legacyCode String
  relationship Relationship [not null]
  relationshipId String [not null]
  isFingerprintVerificationActive Boolean [not null, default: false]
  isIdCardVerificationActive Boolean [not null, default: false]
  isFaceVerificationActive Boolean [not null, default: false]
  isVoiceVerificationActive Boolean [not null, default: false]
  fingerprint Fingerprint [not null]
  idCard IDCard [not null]
  face Face [not null]
  voice Voice [not null]
  entryRecords EntryRecord [not null]
  spents SubscriberGroupBalance [not null]

  indexes {
    (subscriberId, id) [unique]
  }

  Note: '@@allow(\'all\', true && isPublished)'
}

Table Relationship {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  arabic String
  english String
  name String [unique, not null]
  subscriberGroup SubscriberGroup [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table Fingerprint {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  fingerType FingerType [not null]
  fingerTypeId String [not null]
  hash String [unique, not null]
  subscriberGroup SubscriberGroup [not null]
  subscriberGroupId String [not null]
  entryRecords EntryRecord [not null]

  indexes {
    (subscriberGroupId, id) [unique]
    (id, fingerTypeId) [unique]
  }

  Note: '@@allow(\'all\', true && isPublished)'
}

Table IDCard {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  hash String [unique, not null]
  subscriberGroup SubscriberGroup [not null]
  subscriberGroupId String [not null]
  entryRecords EntryRecord [not null]

  indexes {
    (subscriberGroupId, id) [unique]
  }

  Note: '@@allow(\'all\', true && isPublished)'
}

Table Face {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  hash String [unique, not null]
  subscriberGroup SubscriberGroup [not null]
  subscriberGroupId String [not null]
  entryRecords EntryRecord [not null]

  indexes {
    (subscriberGroupId, id) [unique]
  }

  Note: '@@allow(\'all\', true && isPublished)'
}

Table Voice {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  hash String [unique, not null]
  subscriberGroup SubscriberGroup [not null]
  subscriberGroupId String [not null]
  entryRecords EntryRecord [not null]

  indexes {
    (subscriberGroupId, id) [unique]
  }

  Note: '@@allow(\'all\', true && isPublished)'
}

Table FingerType {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  arabic String
  english String
  name String [unique, not null]
  fingerType Fingerprint [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table InsurancePolicy {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  name String [unique, not null]
  coPay Int [not null]
  limit Int [not null]
  institution Institution [not null]
  institutionId String [not null]
  subscribers Subscriber [not null]
  packageMedicalServices PackageMedicalServices [not null]
  medicalCenters InsurancePolicyMedicalCenters [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table BenefitPackage {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  name String [unique, not null]
  limit Int [not null]
  medicalServices PackageMedicalServices [not null]
  spents SubscriberGroupBalance [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table PackageMedicalServices {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  beneftiPackage BenefitPackage [not null]
  beneftiPackageId String [not null]
  medicalService MedicalCenter [not null]
  medicalServiceId String [not null]
  insurancePolicy InsurancePolicy [not null]
  insurancePolicyId String [not null]
  price Int [not null]
  patientServices PatientService [not null]
  patientExaminations PatientExamination [not null]

  indexes {
    (insurancePolicyId, beneftiPackageId, medicalServiceId) [unique]
  }

  Note: '@@allow(\'all\', true && isPublished)'
}

Table InsurancePolicyMedicalCenters {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  insurancePolicyId String [not null]
  insurancePolicy InsurancePolicy [not null]
  medicalCenterId String [not null]
  medicalCenter MedicalCenter [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table TimeWindow {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  medicalCenter MedicalCenter [not null]
  medicalCenterId String [unique, not null]
  time Int [not null, default: 24]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table EntryRecord {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  subscriberGroup SubscriberGroup [not null]
  subscriberGroupId String [not null]
  fingerprintBiometric Fingerprint
  fingerprintId String
  idCard IDCard
  idCardId String
  face Face
  faceId String
  voice Voice
  voiceId String
  isValidated Boolean [not null]
  isManuallyInserted Boolean [not null, default: false]
  patientServices PatientService [not null]
  patientExamination PatientExamination
  medicalCenterId String [not null]
  medicalCenter MedicalCenter [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table PatientService {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  entryRecord EntryRecord [not null]
  entryRecordId String [not null]
  Note String
  isWorkInjury Boolean [not null, default: false]
  name String [not null]
  cash Int [not null]
  limit Int [not null]
  deffered Int [not null]
  transactionReviewStatus ReviewStatus [not null]
  transactionReviewStatusId String [not null]
  medicalReviewStatus ReviewStatus [not null]
  medicalReviewStatusId String [not null]
  patientExamination PatientExamination [not null]
  patientExaminationId String [not null]
  serviceId String [not null]
  service PackageMedicalServices [not null]
  groupId String [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table PatientExamination {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  entryRecord EntryRecord [not null]
  entryRecordId String [unique, not null]
  Note String
  isWorkInjury Boolean [not null, default: false]
  name String [not null]
  cash Int [not null]
  limit Int [not null]
  deffered Int [not null]
  transactionReviewStatus ReviewStatus [not null]
  transactionReviewStatusId String [not null]
  medicalReviewStatus ReviewStatus [not null]
  medicalReviewStatusId String [not null]
  patientServices PatientService [not null]
  serviceId String [not null]
  service PackageMedicalServices [not null]
  groupId String [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table ReviewStatus {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  arabic String
  english String
  name String [unique, not null]
  transactionPatientServices PatientService [not null]
  medicalPatientServices PatientService [not null]
  transactionPatientExamination PatientExamination [not null]
  medicalPatientExamination PatientExamination [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table SubscriberGroupBalance {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  subscriberGroupId String [not null]
  subscriberGroup SubscriberGroup [not null]
  beneftiPackageId String [not null]
  beneftiPackage BenefitPackage [not null]
  balance Float [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table MedicalCenter {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  name String [not null]
  code String [not null]
  description String [not null]
  cityHQ String [not null]
  address String
  phone String[] [unique, not null]
  email String[] [unique, not null]
  website String [not null, note: '@url']
  facebookLink String [not null, note: '@url']
  googleMapsLink String [not null, note: '@url']
  twitterLink String [not null, note: '@url']
  instagramLink String [not null, note: '@url']
  latitude Float
  longitude Float
  managingTenant Tenant [not null]
  managingTenantId String [unique, not null]
  services MedicalCenterService [not null]
  beneftiPackages PackageMedicalServices [not null]
  insurancePolicy InsurancePolicyMedicalCenters [not null]
  timeWindow TimeWindow
  entryRecords EntryRecord [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table MedicalCenterServiceTemplate {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  name String [not null]
  dalilCode String [not null]
  basePrice String [not null]
  services MedicalCenterService [not null]

  Note: '@@allow(\'all\', true && isPublished)'
}

Table MedicalCenterService {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  isPublished Boolean [not null, default: true]
  isSoftDeleted Boolean [not null, default: false]
  isActive Boolean [not null, default: true]
  deactivationReason String
  name String [not null]
  medicalCenterCode String [not null]
  basePrice String [not null]
  medicalCenter MedicalCenter [not null]
  medicalCenterId String [unique, not null]
  template MedicalCenterServiceTemplate [not null]
  templateId String [not null]

  indexes {
    (medicalCenterId, medicalCenterCode) [unique]
    (templateId, medicalCenterId, medicalCenterCode) [unique]
  }

  Note: '@@allow(\'all\', true && isPublished)'
}

Ref: User.genderId > Gender.id

Ref: TenantMembers.tenantId > Tenant.id

Ref: TenantMembers.memberId > User.id

Ref: Tenant.typeId > TenantType.id

Ref: Tenant.ownerId > User.id

Ref: DeviceToken.deviceTypeId > DeviceType.id

Ref: DeviceToken.userId > User.id

Ref: Subscriber.institutionId > Institution.id

Ref: Subscriber.insurancePolicyId > InsurancePolicy.id

Ref: SubscriberGroup.genderId > Gender.id

Ref: SubscriberGroup.subscriberId > Subscriber.id

Ref: SubscriberGroup.relationshipId > Relationship.id

Ref: Fingerprint.fingerTypeId > FingerType.id

Ref: Fingerprint.subscriberGroupId > SubscriberGroup.id

Ref: IDCard.subscriberGroupId > SubscriberGroup.id

Ref: Face.subscriberGroupId > SubscriberGroup.id

Ref: Voice.subscriberGroupId > SubscriberGroup.id

Ref: InsurancePolicy.institutionId > Institution.id

Ref: PackageMedicalServices.beneftiPackageId > BenefitPackage.id

Ref: PackageMedicalServices.medicalServiceId > MedicalCenter.id

Ref: PackageMedicalServices.insurancePolicyId > InsurancePolicy.id

Ref: InsurancePolicyMedicalCenters.insurancePolicyId > InsurancePolicy.id

Ref: InsurancePolicyMedicalCenters.medicalCenterId > MedicalCenter.id

Ref: TimeWindow.medicalCenterId - MedicalCenter.id

Ref: EntryRecord.subscriberGroupId > SubscriberGroup.id

Ref: EntryRecord.fingerprintId > Fingerprint.id

Ref: EntryRecord.idCardId > IDCard.id

Ref: EntryRecord.faceId > Face.id

Ref: EntryRecord.voiceId > Voice.id

Ref: EntryRecord.medicalCenterId > MedicalCenter.id

Ref: PatientService.entryRecordId > EntryRecord.id

Ref: PatientService.transactionReviewStatusId > ReviewStatus.id

Ref: PatientService.medicalReviewStatusId > ReviewStatus.id

Ref: PatientService.patientExaminationId > PatientExamination.id

Ref: PatientService.serviceId > PackageMedicalServices.id

Ref: PatientExamination.entryRecordId - EntryRecord.id

Ref: PatientExamination.transactionReviewStatusId > ReviewStatus.id

Ref: PatientExamination.medicalReviewStatusId > ReviewStatus.id

Ref: PatientExamination.serviceId > PackageMedicalServices.id

Ref: SubscriberGroupBalance.subscriberGroupId > SubscriberGroup.id

Ref: SubscriberGroupBalance.beneftiPackageId > BenefitPackage.id

Ref: MedicalCenter.managingTenantId - Tenant.id

Ref: MedicalCenterService.medicalCenterId > MedicalCenter.id

Ref: MedicalCenterService.templateId > MedicalCenterServiceTemplate.id